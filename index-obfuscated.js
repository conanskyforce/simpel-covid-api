const a0_0x1b21=['log','parse','exec','utf8','html','EADDRINUSE','get','use','readFileSync','getListByCountryTypeService2true','then','env','load\x20from\x20local\x20failed!','code','map','body','/api-covid','filter','echo\x20\x22\x22\x20>\x20','json','PORT','koa2-cors','./localLog.txt','text','#getListByCountryTypeService2true','length','createWriteStream','load','node-fetch','toLocaleString','koa','slice','cheerio','split','server\x20running\x20at:\x20http://localhost:','error'];(function(_0x537676,_0x1b2137){const _0x49ea10=function(_0x31d2f6){while(--_0x31d2f6){_0x537676['push'](_0x537676['shift']());}};_0x49ea10(++_0x1b2137);}(a0_0x1b21,0x1c2));const a0_0x49ea=function(_0x537676,_0x1b2137){_0x537676=_0x537676-0x0;let _0x49ea10=a0_0x1b21[_0x537676];return _0x49ea10;};let fetch=require(a0_0x49ea('0xa'));let cheerio=require(a0_0x49ea('0xe'));let child=require('child_process');let api='https://ncov.dxy.cn/ncovh5/view/pneumonia';let id=a0_0x49ea('0x6');let fs=require('fs');let logLocal=a0_0x49ea('0x4');let writer=fs[a0_0x49ea('0x8')](logLocal,{'flags':'a+'});let bufferArray=[];let Koa=require(a0_0x49ea('0xc'));let cors=require(a0_0x49ea('0x3'));let Router=require('koa-router');let PORT=process[a0_0x49ea('0x1d')][a0_0x49ea('0x2')]||0x2542;let app=new Koa();let router=new Router();let startApp=()=>{app[a0_0x49ea('0x19')](cors())[a0_0x49ea('0x19')](router['routes']())[a0_0x49ea('0x19')](router['allowedMethods']())['listen'](PORT,()=>{console[a0_0x49ea('0x12')](a0_0x49ea('0x10')+PORT);})['on'](a0_0x49ea('0x11'),_0x166912=>{if(_0x166912[a0_0x49ea('0x1f')]===a0_0x49ea('0x17')){PORT+=0x1;startApp();}});};router[a0_0x49ea('0x18')](a0_0x49ea('0x22'),async(_0x4a5267,_0x168b38)=>{_0x4a5267['type']=a0_0x49ea('0x1');_0x4a5267[a0_0x49ea('0x21')]=bufferArray[bufferArray[a0_0x49ea('0x7')]-0x1];});function pushToArray(_0xd2913b){if(bufferArray[a0_0x49ea('0x7')]>0x32){bufferArray=bufferArray[a0_0x49ea('0xd')](-0x32);}bufferArray['push'](_0xd2913b);}const startFetch=()=>{console[a0_0x49ea('0x12')](new Date()[a0_0x49ea('0xb')]());fetch(api)[a0_0x49ea('0x1c')](_0x4aaeb9=>_0x4aaeb9[a0_0x49ea('0x5')]())[a0_0x49ea('0x1c')](_0x22e415=>{let _0x378e20=cheerio[a0_0x49ea('0x9')](_0x22e415);let _0x5c74cd=_0x378e20(id)[a0_0x49ea('0x16')]();let _0x4abddc=this;eval(_0x5c74cd);pushToArray(_0x4abddc[a0_0x49ea('0x1b')]);let _0x5d62d6=readFromLocal();if(_0x5d62d6[a0_0x49ea('0x7')]>0x64){child[a0_0x49ea('0x14')](a0_0x49ea('0x0')+logLocal);}writer['write'](JSON['stringify'](_0x4abddc['getListByCountryTypeService2true'])+'\x0a');});};const readFromLocal=()=>{let _0x2d0c31=fs[a0_0x49ea('0x1a')](logLocal,a0_0x49ea('0x15'));_0x2d0c31=_0x2d0c31[a0_0x49ea('0xf')]('\x0a')[a0_0x49ea('0x23')](_0x4fe99b=>_0x4fe99b);_0x2d0c31=_0x2d0c31[a0_0x49ea('0x20')](_0x24a6b9=>{let _0xcf06d2='';try{_0xcf06d2=JSON[a0_0x49ea('0x13')](_0x24a6b9);}catch(_0xc7db69){console[a0_0x49ea('0x12')](_0xc7db69);}return _0xcf06d2;});_0x2d0c31=_0x2d0c31[a0_0x49ea('0x23')](_0x331e3c=>_0x331e3c);return _0x2d0c31;};const initDataFromLocal=()=>{try{let _0x51d268=readFromLocal();bufferArray=_0x51d268[a0_0x49ea('0xd')](-0x32);}catch(_0xb0f4fb){console[a0_0x49ea('0x12')](_0xb0f4fb);console[a0_0x49ea('0x12')](a0_0x49ea('0x1e'));}};const startAll=()=>{initDataFromLocal();startApp();startFetch();};startAll();setInterval(()=>{startFetch();},0x493e0);